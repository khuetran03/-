# ğŸ’†â€â™‚ï¸ Booking Massage Receipt App

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ï¼ˆProject Overviewï¼‰

ã“ã®ã‚¢ãƒ—ãƒªã¯ã€**ãƒãƒƒã‚µãƒ¼ã‚¸åº—å‘ã‘ã®äºˆç´„ç®¡ç†ãƒ»æ”¯æ‰•ã„é ˜åæ›¸ã‚·ã‚¹ãƒ†ãƒ **ã§ã™ã€‚  
Spring Bootã‚’ä½¿ç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ãƒãƒƒã‚µãƒ¼ã‚¸ã‚’äºˆç´„ã—ã€æ”¯æ‰•ã„å®Œäº†å¾Œã«é ˜åæ›¸ã‚’**ãƒ¡ãƒ¼ãƒ«ã¾ãŸã¯é€šçŸ¥**ã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚  

ãƒãƒ¼ãƒ é–‹ç™ºã¨ã—ã¦ä½œæˆã—ã€ç§ã¯ä¸»ã«**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®è¨­è¨ˆãƒ»å®Ÿè£…ï¼ˆæ”¯æ‰•ã„å‡¦ç†ã€é ˜åæ›¸é€ä¿¡æ©Ÿèƒ½ãªã©ï¼‰**ã‚’æ‹…å½“ã—ã¾ã—ãŸã€‚  
ã¾ãŸã€DTOã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã‚„ä¾‹å¤–å‡¦ç†ã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡å‡¦ç†ã®å®Ÿè£…ã‚‚è¡Œã„ã¾ã—ãŸã€‚  

---

### ğŸ§° ä½¿ç”¨æŠ€è¡“ï¼ˆTechnologiesï¼‰

| æŠ€è¡“ | å†…å®¹ |
|------|------|
| Java 17 | ãƒ¡ã‚¤ãƒ³è¨€èª |
| Spring Boot | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| Spring Data JPA | ORMï¼ˆHibernateï¼‰ |
| Spring Validation | å…¥åŠ›ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ï¼ˆDTOï¼‰ |
| JavaMailSender | ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆGmail SMTPï¼‰ |
| MySQL | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |
| PayPal SDKï¼ˆmockï¼‰ | ç°¡æ˜“çš„ãªæ±ºæ¸ˆå‡¦ç† |

---

### ğŸ’¼ æ‹…å½“éƒ¨åˆ†ï¼ˆMy Roleï¼‰
- æ”¯æ‰•ã„å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…  
- é ˜åæ›¸ãƒ¡ãƒ¼ãƒ«é€ä¿¡æ©Ÿèƒ½ï¼ˆHTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰  
- DTOã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³  
- ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆCustomException, HandlerAdviceï¼‰  

---

### ğŸ§  å­¦ã‚“ã ã“ã¨ï¼ˆLearning Pointsï¼‰
- Springã®ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ï¼ˆController â†’ Service â†’ Repositoryï¼‰  
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ä¾‹å¤–å‡¦ç†ã®è¨­è¨ˆ  
- JavaMailSenderã‚’ç”¨ã„ãŸHTMLãƒ¡ãƒ¼ãƒ«é€ä¿¡  
- ãƒãƒ¼ãƒ é–‹ç™ºã«ãŠã‘ã‚‹é€£æºãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚­ãƒ«ã®å‘ä¸Š  

---

## ğŸ‡»ğŸ‡³ Giá»›i thiá»‡u (Vietnamese Description)

á»¨ng dá»¥ng Ä‘áº·t lá»‹ch massage vÃ  gá»­i biÃªn lai thanh toÃ¡n qua Email hoáº·c Notification.  
Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng **Spring Boot**, **MySQL** vÃ  **JavaMailSender** Ä‘á»ƒ gá»­i hÃ³a Ä‘Æ¡n thanh toÃ¡n HTML khi ngÆ°á»i dÃ¹ng hoÃ n táº¥t giao dá»‹ch.  

---

### âš™ï¸ Chá»©c nÄƒng chÃ­nh

- Äáº·t lá»‹ch dá»‹ch vá»¥ massage  
- Táº¡o Ä‘Æ¡n thanh toÃ¡n  
- Gá»­i biÃªn lai qua Email  
- Gá»­i notification (mock - log console)  
- Quáº£n lÃ½ dá»‹ch vá»¥, ngÆ°á»i dÃ¹ng, nhÃ¢n viÃªn  
- Validate dá»¯ liá»‡u báº±ng DTO  
- Xá»­ lÃ½ lá»—i chi tiáº¿t theo HTTP status vÃ  mÃ£ lá»—i  

---

### ğŸ§© Cáº¥u trÃºc chÃ­nh

- **Entity**: Booking, Payment, User, Service  
- **DTO**: BookingRequestDTO, PaymentReceiptRequestDTO, PaymentRequestDTO  
- **Enum**: BookingStatus, PaymentStatus  
- **Repository**: BookingRepository, PaymentRepository  
- **Service**: PaymentReceiptService, PaymentReceiptServiceImp (Interface)  
- **Controller**: PaymentController (API thanh toÃ¡n, gá»­i biÃªn lai)  
- **Exception**: BusinessException, ResourceNotFoundException, CustomException  
- **Advice**: HandlerExceptionController (xá»­ lÃ½ ngoáº¡i lá»‡)  

---

## âš™ï¸ Cáº¥u hÃ¬nh Mail (application.properties)

```properties
spring.mail.username=your_email@gmail.com
spring.mail.password=your_app_password  # (sáº½ Ä‘Æ°á»£c cung cáº¥p khi test)
```


## API chÃ­nh 
### 1. Gá»­i thÃ´ng bÃ¡o mock push notification

- **POST** `/receipt/send-push`
- **Request body:**
```json
{
  "id": 1
}
```

### 2. Gá»­i biÃªn lai qua mail
- - **POST** `/receipt/send-email`
- **Request body:**
```json
{
  "id": 1
}
```

### 2. Gá»­i request, kiá»ƒm tra response:

- Náº¿u thÃ nh cÃ´ng nháº­n Ä‘Æ°á»£c status 200 vÃ  message tiáº¿ng Nháº­t xÃ¡c nháº­n gá»­i thÃ´ng bÃ¡o hoáº·c gá»­i biÃªn lai mail.
- Náº¿u lá»—i validate hoáº·c khÃ´ng tÃ¬m tháº¥y booking nháº­n lá»—i 400 hoáº·c 404.
- Náº¿u lá»—i mail server nháº­n lá»—i 500.
